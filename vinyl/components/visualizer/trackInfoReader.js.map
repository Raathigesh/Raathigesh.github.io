{"version":3,"sources":["components/visualizer/trackInfoReader.ts"],"names":["TrackInfoReader","TrackInfoReader.constructor","TrackInfoReader.Read"],"mappings":";;;;;;;;;;;;;AAEA,AACA,oCADoC;AACpC,0BAAwB,iCAExB,CAAC,CAFwD;AAEzD;IAAAA;IAkCAC,CAACA;IAjCOD,8BAAIA,GAAXA,UAAYA,IAASA,EAAEA,QAAaA;QAClCE,IAAIA,GAAGA,GAAGA,IAAIA,CAACA,GAAGA,IAAGA,IAAIA,CAACA,IAAIA,CAACA;QAE/BA,GAAGA,CAACA,QAAQA,CAACA,GAAGA,EAAEA;YACb,IAAI,IAAI,GAAG,GAAG,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC;YAEpC,IAAI,IAAI,GAAG,IAAI,qBAAS,EAAE,CAAC;YAC3B,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC;YACxB,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC;YAC1B,AAaA,UAbU;YACV;;;;;;;;;;eAUG;YAEH,QAAQ,CAAC,IAAI,CAAC,CAAC;QACd,CAAC,EACDA,EAACA,IAAIA,EAAEA,CAACA,QAAQA,EAAEA,OAAOA,EAAEA,OAAOA,EAAEA,MAAMA,EAAEA,SAASA,EAAEA,OAAOA,EAAEA,OAAOA,EAAEA,QAAQA,EAAEA,SAASA,CAACA;YAC5FA,UAAUA,EAAEA,aAAaA,CAACA,IAAIA,CAACA,EAACA,CAACA,CAACA;QACrCA;;;;;aAKQA;IACTA,CAACA;IACFF,sBAACA;AAADA,CAlCA,AAkCCA,IAAA;AAlCY,uBAAe,kBAkC3B,CAAA","file":"components/visualizer/trackInfoReader.js","sourcesContent":["declare var ID3: any;\r\ndeclare var FileAPIReader: any;\r\n///<reference path=\"trackInfo.ts\" />\r\nimport {TrackInfo} from \"components/visualizer/trackInfo\"\r\n\r\nexport class TrackInfoReader{\r\n\tpublic Read(file: any, callBack: any){\r\n\t\t var url = file.urn ||file.name;\r\n\t\t \r\n\t\t ID3.loadTags(url, function() {      \r\n        var tags = ID3.getAllTags(url);\r\n        \r\n\t\t\tvar info = new TrackInfo();\r\n\t\t\tinfo.Title = tags.title;\r\n\t\t\tinfo.Artist = tags.artist;\r\n\t\t\t//debugger\r\n\t\t\t/* if( \"picture\" in tags ) {\r\n            var image = tags.picture;\r\n            var base64String = \"\";\r\n            for (var i = 0; i < image.data.length; i++) {\r\n                base64String += String.fromCharCode(image.data[i]);\r\n            }\r\n\t\t\t\r\n\t\t\t    var cover  = <HTMLImageElement>document.getElementById(\"cover\");\r\n\t\t\t    cover.src = \"data:\" + image.format + \";base64,\" + window.btoa(base64String);\r\n\t\t\t    document.getElementById(\"cover\").style.display = \"block\";\r\n\t\t\t}*/\r\n\t\r\n\t\t\tcallBack(info);\t\r\n    },\r\n    {tags: [\"artist\", \"title\", \"album\", \"year\", \"comment\", \"track\", \"genre\", \"lyrics\", \"picture\"],\r\n     dataReader: FileAPIReader(file)});\r\n\t\t/*id3(file, function(err, tags) {\r\n\t\t\tvar info = new TrackInfo();\r\n\t\t\tinfo.Title = tags.title;\r\n\t\t\tinfo.Artist = tags.artist;\r\n\t\t\tcallBack(info)        \r\n    \t});*/\r\n\t}\r\n}"],"sourceRoot":"/source/"}